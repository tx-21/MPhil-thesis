\chapter{Literature Review}
%\label{sec:ob_rel}

\section{The application of machine learning techniques for water quality control}
\subsection{Automated control system for water quality control}
%%%%%%%%%%PLC and some real application cases in WTP
%Explain PLC better by \cite{WasteWaterTreatment2018}
%re organize this section
Programmable logic controller (PLC) is an industrial computer system designed for any process requiring a series of devices and equipment operates cohesively to achieve multiple purposes in manufacturing or treatment processes. The main components of PLC include a center process unit (CPU), input modules and output modules (I/O). CPU is responsible to process digital signals from input modules and send commands through output modules based on the control logics programmed on the PLC. For chemical dosing control in water treatment plants (WTPs), PLC system receives readings from turbidity and pH sensors and uses pumps to dose aluminum solution automatically \cite{andhareSCADAToolIncrease2014}. The PLC system with the capability of producing real-time output commands in response to the input sigals also makes it widely used in the wastewater treatment plants (WWTPs). For oxygen concentration control in the aeration tank, PLC system receives signals of dissovled oxygen (DO) detectors and transmits signals to open or close the electric butterfly valves to further alter the DO concentration \cite{zhuApplicationPLCSewage2017}. However, the PLC is merely a device that can be programmed to control other operative devices with on-off logic (i.e., a logic control with two states). 

plication. As everyone knows, the characteristic of PLC is stable and reliable control, simple programming, but the program memory and instruction resources are limited. It cannot carry out too complicated sewage treatment program. But sewage treatment has various steps and each actuator is complex, not easy to coordinate each other. Therefore, the easy use of PLC programming and the complexity of the control on the formation make a contradiction.

For many control processes in WTPs or WWTPs, on-off logic is inadequate to achieve the desired operation. 

Awaring of the limitation of a PLC system, a more advanced controller called proportional–integral–derivative (PID) controller for receiving analog signals was developed to generate more sophisticated commands to the operative devices.

%%%%%%%%%%PID and examples
A PID controller generates an output value based on continuously calculates an error value e(t) as the difference between a desired setpoint (SP) and a measured process variable and applies a correction based on proportional, integral, and derivative terms. Therefore, a PID controller is essentially a technology (i.e., a specialist algorithm) for contorlling a single device with more complex logics, while a PLC system is a physical system consists of different modules and capable of controlling dozens of devices with two-state logic. In addition, A PID controller can be implementated with a PLC device and provide a more precise control strategy to a designated device. For instance, a single-variable feedback analog control loop in PID can be used to control the temperature in the activated sludge treatment by stablizing the system temperature in a shorter time \cite{badosDesignPIDControl2020}. The feedback control scheme is also applied in WTPs to adjust the addition of chlorine dosage to reach the target concentration of free chlorine residual (FRC) \cite{wangCompositeControlPostChlorine2019}.

%%%%%%%%%%Transition to how the algorithms in PLC or PID can be replace my AI, ML, 

Turning a PID controlled to make use of the three control functions is a separate topic for another paper. The key issue to remember when using a PID controller is that it is a feedback control system designed to control rapidly-changing process conditions. Disinfection is a plug flow process. The retention time needed for disinfection is a lag time that makes feedback control difficult \cite{kobylinskiLineControlStrategies2006}.

In practical terms, PID automatically applies an accurate and responsive correction to a control function. An everyday example is the cruise control on a car, where ascending a hill would lower speed if constant engine power were applied. The controller's PID algorithm restores the measured speed to the desired speed with minimal delay and overshoot by increasing the power output of the engine in a controlled manner.

In general terms PLCs are probably one of most widely used pieces of control and automation technology. The clue really comes from the name PLC, or “programmable logic controller”. It is the fact that they are programmable that makes them so versatile in their application. PLCs contain a processor, memory to hold their programming and other data and input and output modules. They are usually programmed via a PC and there are a number of different industry standard (IEC 61131-3) languages that may be used.

A PID Controller is different to a PLC. It still requires inputs and outputs to receive information from the process and send signals back to control it but it contains specialist algorithms designed to control a process with one or multiple control loops. The term ‘PID’ relates to “Proportional Integral Derivative” control. 

%%Transition to introducing the model predictive control is usually incorporated with PID, or PI system.
So that the machine learning nowadays focus on how to develop a better mathematical algorithms to replace the outdated algorithms in PID system.

To ensure the concentration of free residual chlorine falls in the recommended range, chlorination process has been made automated to correct the chlorine dosage responding to the variability in water quality in many DWTPs. 

%PLC and PID are confusing now, better to distinguish the difference between the two, and the use transition to introduce the model predicdtive control, or the AI part
%Which requires the set point?
%only talk about the PID not PLC
To operate a automatic control system, Programmable Logic Controller (PLC) is selected by industrial processes that involve in any sorts of control systems. In DWTPs, PLC system in chlorination process makes automatic decisions for the administration of chlorine dose required to achieve desirable concentration of FRC. One of the earliest mathematical modeling used with PLC to control chlorine dosage is proposed by Dieu, Garrett Jr., Ahmad, and Young (1995), which is a single variable Proportional-Integral Derivative (PID) chlorine dosage control system. PID system is built with online analyzer of FRC, PLC, and chlorine dosers to formulate a robust control loop for dosing chlorine. However, PID system is merely a temporarily solution to the precise control of chlorination. 

%PID control is used where greater levels of precision in control are required. It combines three control terms to give a single output to drive the setpoint. 
%

Since the WTP postchlorination dosage has several variables that directly impact the FRC rate in the treated water, the use of the traditional PID controller is restricted, as reported by Escobar and Trierweiler (2013).

Machine learning is a subset of artificial intelligence, and deep learning is a subset 
of machine learning. In artificial intelligence can be sued to solve four types of problems: 
classification, regression, dimensionality reduction and clustering. 
\subsection{Water quality control in drinking water treatment plants}
%%it's better to find papers that can provide comparison between DL and ML or traditional models
\subsubsection{Disinfection process}
Disinfection is the last step of water treatment processes in drinking water treatment plants (DWTPs) to generate safe potable water. In this step, one or more chemical disinfectants like chlorine, chloramine, or chlorine dioxide are added into the water to inactivate any remaining pathogenic microorganisms. The residual disinfectant concentration in disinfected water must contains low levels of the chemical disinfectant to stop nuisance growths in the water distribution pipes, storage facilites and conduits. Nowadays, the widely used disinfectant in disinfection process is chlorine as gas or hypochlorite (i.e., in form of liquid solution), and the treatment process is known as "chlorination". According to World Health Organization's Guidelines for Drinking-water Quality (WHO Guidelines), the maximum allowable value for free chlorine residual in drinking water is 5 mg/L, and the minimum recommended valus is 0.2 mg/L. 

Current analysis proposes a multivariable control for post-chlorination dosage system in a WTP using artificial neural networks applied to the disinfection process to reduce free residual chlorine variations of treated water in the water tank and, consequently, in the main water distribution \cite{librantzArtificialNeuralNetworks2018}.

%1-Why there is chlorinatino process
%2-The automation process in chlorination to control the conc. of residual chlorine
Despite the benefit brought by dosing chlorine to the water, negative impacts also come along. In the real world case, the influent water quality and the efficiency of the drinking water treatment processes are not always stable, and the invariability of the treated water quality becomes an big issue for disinfection. For instance, chlorine dose can be excessive dosed when the treated water contains less pollutants (e.g., non-organic matters and ammonia nitrogen). Although the quality of disinfected water fulfill the regulation standard, it increases the costs and can potentially generate undesired disinfection by-products (e.g., trihalomethanes, which are carcinogenic to human) due to the chemcial reaction between pollutants and overly dosed chlorine. On the flip side, insufficient dosing of chlorine cuases the concentration of residual chlorine lower than the legal regulation. To prevent both senarios occur, a water quality control strategy is required to produce drinking water with satisfactory quality. 

Up untill present, there are several ways to perform disinfected water quality. In the earliest time, feed-back.... PI... feed-foward...
%Chlorine Chlorine is one of the most commonly used disinfectants for water disinfection
%Chlorination in drinking water treatment plants (DWTP) is the final process applied to water before it is sent to storage tanks in the supply network for subsequent human consumption. An excessive dosage of chlorine or, conversely, too small a dosage, may breach existing legal regulations on mandatory limits. Furthermore, excessive amounts generate an unnecessary cost in terms of chlorine and, collaterally, problems due to an increase in the maximum permitted amounts of such by-products as trihalomethanes, which are carcinogenic compounds for humans. In DWTP where there is no significant variability in the quality of the water to be treated, a type of control that is proportional to the flow rate in the effluent can have fully satisfactory results. However, in a control strategy applied when there are inherently long delays in the process, variability in the quality of the water to be treated and considerable variations in flow, a proportional type of control does not tend to work and an alternative type is needed. This article presents the strategy and results of a control method that combines a feed-forward system with gain scheduling in a (ProportionalIntegral) PI control. The control system design was validated beforehand by simulation and then applied to a real DWTP, producing satisfactory experimental results.\cite{gamiz_fuzzy_2020}


\subsubsection{Membrane fouling}
Madfs
%membrane fouling
%membrane fouling focus more on the combined use of physical and ml models rather than single use.
%analysis of precursors of DBPs
%Disinfection
%coagulation/flocculation
%analysis and predictions of algae cells and algae-derived substances in source water
\subsubsection{Analysis of precursors of DBPs}
%Genetic algorithm (GA)\\
%Genetic programming (GP)\\

\subsubsection{Disinfection}
\subsubsection{Prediction of the source water contaminants}
\subsubsection{Coagulation}
Traditional modelling methods 
mainly use numerical simulations or physical formulas to model target prediction objects from 
a microscopic perspective . For example, the advantage of particle coagulation dynamics 
simulation is that it can ex    plain the behaviour evolution mechanism of particles in the water 
treatment process in a very specific way because it is usually based on the collision mechanism 
with physical meaning and mathematical description

\subsection{Water quality control in wastewater treatment plants}
\subsection{Water quality control in reclaimed water system}
%Describe the need of using decision-making processes for water quality
%Using examples to show how the decision-making process can benefit water quality control
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Organization of the paragraph 
%What is a critical water parameter(turbidity for example), and then the difficulties in %%%%%%
%predicting the water parameter, for example, what are the related parameters to turbidity%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

In this study the new control objectives for the reclaimed water system in 
Shek Wu Hui Effluent Polish Plant have been established: to monitor color 
and ammonia concentration in the MBR effluent and at the same time provide 
a predictive model to assist the disinfection control strategy for disinfecting 
the MBR effluent to meet the endorsed reclaimed water standard.

\section{Recent advances in time series models for water quality forecasting}
\subsection{Machine learning models}
%why DL is better than ML?

\subsection{Deep learning models}
%why we need to use this?
%Explain the difference between DL and ML
\subsection{Comparison of the artificial intelligence model and traditional model in drinking water treatment}
\subsubsection{Traditional modeling methods}
In traditional modeling methods, numerical simulations or physical formulas to model target prediction objects. 
ame training set to process batches and feed batches for ultrafiltration. The interpretation of this model is 
more accessible than simply using ANN because it is based on physical mechanisms. A semi-physical model can 
be defined as an aid to a mechanism because it provides an efficient way to determine specific parameters. 
Nevertheless, its further applications are limited by the assumptions established by the model.
%The mathematical model or theoretical equation used was limited to the analysis and prediction of membrane pollution under simple conditions (such as a single pollutant or specific working conditions)
\section{Different techniques for enchancing the performance of forecasting models}
\subsection{Data preprocessing}
%why python? compared to matlab

\subsection{Feature engineering}
%what are the frameworks, and why using them

